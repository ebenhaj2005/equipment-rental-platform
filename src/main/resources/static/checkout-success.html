<!DOCTYPE html>
<html lang="nl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Equipment Rental - Bestelling Bevestigd</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
<nav class="navbar">
    <div class="nav-container">
        <h1 class="logo"><a href="index.html">Equipment Rental</a></h1>
        <div class="nav-links" id="navLinks">
            <a href="index.html">Home</a>
            <a href="products.html">Catalogus</a>
            <a href="cart.html">Winkelwagen (<span id="cartCount">0</span>)</a>
            <a href="orders.html">Mijn Verhuren</a>
            <button onclick="logout()" id="logoutBtn" style="display:none;">Logout</button>
            <a href="login.html" id="loginLink">Login</a>
        </div>
    </div>
</nav>

<div class="container">
    <div class="confirmation-box">
        <h2>✓ Bestelling Bevestigd</h2>
        <div id="confirmationText"></div>
        <div style="margin-top: 2rem;">
            <a href="orders.html"><button class="btn-primary">Bekijk Mijn Verhuren</button></a>
            <a href="products.html"><button class="btn-secondary">Terug naar Catalogus</button></a>
        </div>
    </div>
</div>

<script src="app.js"></script>
<script>
    document.addEventListener('DOMContentLoaded', () => {
        checkAuthStatus();
        updateCartCount();

        // Get rental info from sessionStorage
        const rentalData = sessionStorage.getItem('lastRental');
        if (rentalData) {
            const rental = JSON.parse(rentalData);
            document.getElementById('confirmationText').innerHTML = `
                <p>Uw verhuring is bevestigd!</p>
                <p><strong>Verhuur ID:</strong> ${rental.id}</p>
                <p><strong>Totaal:</strong> €${rental.totalPrice.toFixed(2)}</p>
                <p><strong>Status:</strong> ${rental.status}</p>
                <p><strong>Datum:</strong> ${new Date(rental.rentalDate).toLocaleDateString('nl-NL')}</p>
            `;
            // Clear the stored data
            sessionStorage.removeItem('lastRental');
        } else {
            document.getElementById('confirmationText').innerHTML = `
                <p>Uw bestelling is succesvol geplaatst!</p>
            `;
        }
    });
</script>
</body>
</html>